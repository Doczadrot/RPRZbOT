# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Keepalive –¥–ª—è Railway

## –ü—Ä–æ–±–ª–µ–º–∞

–ù–∞ Railway Free Plan –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–µ—Ä–µ—Ö–æ–¥—è—Ç –≤ sleep mode (—Ä–µ–∂–∏–º —Å–Ω–∞), –µ—Å–ª–∏ –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏. –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —Ç–æ–º—É, —á—Ç–æ –±–æ—Ç –ø–µ—Ä–µ—Å—Ç–∞–µ—Ç –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã.

## –†–µ—à–µ–Ω–∏–µ

–î–æ–±–∞–≤–ª–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π keepalive –º–µ—Ö–∞–Ω–∏–∑–º, –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø–∏–Ω–≥—É–µ—Ç `/ping` endpoint –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `RAILWAY_PUBLIC_DOMAIN`. Keepalive –º–µ—Ö–∞–Ω–∏–∑–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç—É –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é, –µ—Å–ª–∏ –æ–Ω–∞ –¥–æ—Å—Ç—É–ø–Ω–∞.

**–ù–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è!** Keepalive –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –¥–µ–ø–ª–æ–µ –Ω–∞ Railway.

### –†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

–ï—Å–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Railway:

```env
ENABLE_KEEPALIVE=true
KEEPALIVE_INTERVAL=300
PUBLIC_URL=https://your-app.railway.app
```

–ì–¥–µ:
- `ENABLE_KEEPALIVE` - –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å keepalive (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `true`)
- `KEEPALIVE_INTERVAL` - –∏–Ω—Ç–µ—Ä–≤–∞–ª –ø–∏–Ω–≥–∞ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `300` = 5 –º–∏–Ω—É—Ç)
- `PUBLIC_URL` - –ø—É–±–ª–∏—á–Ω—ã–π URL –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `RAILWAY_PUBLIC_DOMAIN`)

## Endpoints

### `/ping`
–ü—Ä–æ—Å—Ç–æ–π ping endpoint –¥–ª—è keepalive –º–µ—Ö–∞–Ω–∏–∑–º–∞.

**–ó–∞–ø—Ä–æ—Å:**
```bash
GET /ping
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "status": "pong",
  "timestamp": 1234567890.123
}
```

### `/health`
–ü–æ–ª–Ω—ã–π health check endpoint —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –±–æ—Ç–∞.

**–ó–∞–ø—Ä–æ—Å:**
```bash
GET /health
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "status": "healthy",
  "service": "telegram-bot",
  "mode": "serverless",
  "webhook_configured": true,
  "bot_token_set": true,
  "webhook_info": "..."
}
```

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è keepalive –ø–æ—Ç–æ–∫
2. –ö–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç (–∏–ª–∏ —É–∫–∞–∑–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª) –ø–æ—Ç–æ–∫ –¥–µ–ª–∞–µ—Ç GET –∑–∞–ø—Ä–æ—Å –∫ `/ping` endpoint
3. –≠—Ç–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –∞–∫—Ç–∏–≤–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç sleep mode

## –û—Ç–∫–ª—é—á–µ–Ω–∏–µ keepalive

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å keepalive, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:

```env
ENABLE_KEEPALIVE=false
```

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

Keepalive –º–µ—Ö–∞–Ω–∏–∑–º –ª–æ–≥–∏—Ä—É–µ—Ç —Å–≤–æ—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:

- `üîÑ Keepalive –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω: –ø–∏–Ω–≥ –∫–∞–∂–¥—ã–µ 300 —Å–µ–∫—É–Ω–¥` - keepalive –∑–∞–ø—É—â–µ–Ω
- `‚úÖ Keepalive ping —É—Å–ø–µ—à–µ–Ω` - —É—Å–ø–µ—à–Ω—ã–π ping (debug —É—Ä–æ–≤–µ–Ω—å)
- `‚ö†Ô∏è Keepalive ping –≤–µ—Ä–Ω—É–ª –∫–æ–¥ XXX` - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –ø—Ä–æ–±–ª–µ–º–µ
- `‚ùå –û—à–∏–±–∫–∞ keepalive ping: ...` - –æ—à–∏–±–∫–∞ –ø—Ä–∏ ping
- `üõë Keepalive –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω` - keepalive –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

–ï—Å–ª–∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π keepalive –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã:

1. **UptimeRobot** (https://uptimerobot.com) - –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
2. **Cron-job.org** (https://cron-job.org) - –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ cron –∑–∞–¥–∞—á–∏
3. **GitHub Actions** - –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–π ping —á–µ—Ä–µ–∑ GitHub Actions

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–π –∑–∞–ø—Ä–æ—Å –∫ –≤–∞—à–µ–º—É `/ping` –∏–ª–∏ `/health` endpoint.

